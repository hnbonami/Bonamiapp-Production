@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'flowbite';

/* NUCLEAR OVERRIDE FOR DASHBOARD-CONTENT ROUTE */
body main > div,
body main div,
body div,
main > div,
main div {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 20px !important;
    padding: 20px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
}

/* FORCE ALL CHILDREN TO BE GRID ITEMS */
body main > div > div,
body main div > div,
body div > div,
main > div > div,
main div > div {
    width: auto !important;
    max-width: 100% !important;
    min-height: 180px !important;
    flex: none !important;
    display: block !important;
    box-sizing: border-box !important;
    grid-column: span 1 !important;
}

/* REMOVE ALL TAILWIND WIDTH CLASSES */
html body [class*="w-full"],
html body [class*="w-screen"],
html body [class*="w-1/1"] {
    width: auto !important;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    html body .container-fluid .row .col-12 > div,
    html body #dashboard-tiles,
    html body .dashboard-content,
    html body div[id*="dashboard"],
    html body main > div > div {
        grid-template-columns: 1fr !important;
        gap: 15px !important;
        padding: 15px !important;
    }
}

/* ULTIMATE OVERRIDE LAYER - AFTER ALL TAILWIND */
@layer utilities {
    .force-dashboard-grid {
        display: grid !important;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
        gap: 20px !important;
        padding: 20px !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    .force-dashboard-tile {
        width: auto !important;
        max-width: 100% !important;
        min-height: 180px !important;
        flex: none !important;
        display: block !important;
    }
}

/* FINAL NUCLEAR OPTION - HIGHEST SPECIFICITY POSSIBLE */
html[data-theme] body .container-fluid .row .col-12 > div,
html[data-theme] body #dashboard-tiles,
html[data-theme] body .dashboard-content,
html body:not(.no-dashboard) .container-fluid .row .col-12 > div,
html body:not(.no-dashboard) #dashboard-tiles,
html body:not(.no-dashboard) .dashboard-content {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
    gap: 20px !important;
    padding: 20px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
}

html[data-theme] body .container-fluid .row .col-12 > div > *,
html[data-theme] body #dashboard-tiles > *,
html[data-theme] body .dashboard-content > *,
html body:not(.no-dashboard) .container-fluid .row .col-12 > div > *,
html body:not(.no-dashboard) #dashboard-tiles > *,
html body:not(.no-dashboard) .dashboard-content > * {
    width: auto !important;
    max-width: 100% !important;
    min-height: 180px !important;
    flex: none !important;
    display: block !important;
    box-sizing: border-box !important;
}

/* MINI TILE SIZE - NEW 1x0.5 FORMAT */
.dashboard-tile-mini,
[data-tile-size="mini"] {
    min-width: 280px !important;
    min-height: 100px !important;
    max-height: 120px !important;
    grid-column: span 1 !important;
}
